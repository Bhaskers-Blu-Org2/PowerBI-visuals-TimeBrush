!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("jQuery"),require("React"),require("ReactDOM"),require("_"),require("d3"));else if("function"==typeof define&&define.amd)define(["jQuery","React","ReactDOM","_","d3"],e);else{var i="object"==typeof exports?e(require("jQuery"),require("React"),require("ReactDOM"),require("_"),require("d3")):e(t.jQuery,t.React,t.ReactDOM,t._,t.d3);for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(this,function(t,e,i,n,r){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=i(4),s=i(5),o=i(1),a=i(3),h=function(t){function e(){t.apply(this,arguments),this.props={}}return n(e,t),e.prototype.componentDidMount=function(){var t=this;this.node=s.findDOMNode(this),this.timeBrush=new a.TimeBrush(o(this.node),{width:this.props.width,height:this.props.height}),+this.timeBrush.events.on("rangeSelected",function(e){t.props&&t.props.onSelectedRangeChanged(e)}),this.renderContent()},e.prototype.componentWillReceiveProps=function(t){this.renderContent(t)},e.prototype.render=function(){return r.createElement("div",{style:{width:"100%",height:"100%"}})},e.prototype.renderContent=function(t){t=t||this.props,this.timeBrush.data=t.data||[],this.timeBrush.selectedRange=t.selectedRange||null},e}(r.Component);e.TimeBrush=h},function(e,i){e.exports=t},function(t,e){"use strict";var i=function(){function t(){this.listeners={}}return t.prototype.on=function(t,e){var i=this,n=this.listeners[t]=this.listeners[t]||[];return n.push(e),{destroy:function(){i.off(t,e)}}},t.prototype.off=function(t,e){var i=this.listeners[t];if(i){var n=i.indexOf(e);n>=0&&i.splice(n,1)}},t.prototype.raiseEvent=function(t){for(var e=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=this.listeners[t];r&&r.forEach(function(t){t.apply(e,i)})},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i},function(t,e,i){"use strict";var n=i(2),r=i(1),s=i(6),o=i(7),a=1e3,h=100,u=function(){function t(t,e){this._dimensions={width:500,height:500},this._eventEmitter=new n["default"],this.element=t,this.x=o.time.scale(),this.y=o.scale.linear(),this.buildTimeScale(),this.dimensions?this.dimensions=e:this.resizeElements()}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||[],this.x.domain(o.extent(this._data.map(function(t){return t.date}))),this.y.domain([0,o.max(this._data.map(function(t){return+t.value}))]),this.resizeElements()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this._eventEmitter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this._dimensions},set:function(t){r.extend(this._dimensions,t),this.resizeElements(),this._range&&(this.brush.extent(this._range),this.brush(o.select(this.element.find(".brush")[0])))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedRange",{set:function(t){function e(){var e=this;return t&&this._range||!t&&!this._range?t&&this._range?t.length!==this._range.length?!0:t.some(function(t,i){return t.getTime()!==e._range[i].getTime()}):!1:!0}function i(){this.brush.extent(t),this.brush(o.select(this.element.find(".brush")[0]))}e.bind(this)()&&(this._range=t,t&&t.length&&i.bind(this)())},enumerable:!0,configurable:!0}),t.prototype.buildTimeScale=function(){var t=this;this.svg=o.select(this.element[0]).append("svg"),this.clip=this.svg.append("defs").append("clipPath").attr("id","clip").append("rect"),this.context=this.svg.append("g").attr("class","context"),this.bars=this.context.append("g").attr("class","bars"),this.xAxis=this.context.append("g").attr("class","x axis");var e=s.debounce(function(){var e=t.brush.empty()?[]:t.brush.extent(),i=[];if(e&&e.length){var n,r;t.data.forEach(function(t){n||(n=t),r||(r=t),Math.abs(e[0].getTime()-t.date.getTime())<Math.abs(e[0].getTime()-n.date.getTime())&&(n=t),Math.abs(e[1].getTime()-t.date.getTime())<Math.abs(e[1].getTime()-r.date.getTime())&&(r=t)}),i=[n,r]}t.events.raiseEvent("rangeSelected",e,i)},a);this.brush=o.svg.brush().on("brush",e)},t.prototype.resizeElements=function(){var t=this,e={top:0,right:10,bottom:20,left:10},i=this._dimensions.width-e.left-e.right,n=this._dimensions.height-e.top-e.bottom;if(this.x.range([0,i]),this.y.range([n,0]),this.bars&&this._data){var r=this.bars.selectAll("rect").data(this._data);r.enter().append("rect"),r.attr("transform",function(e,i){var r=t.y(0)-t.y(e.value),s=t.x(e.date)||0;return"translate("+s+","+(n-r)+")"}).attr("width",2).attr("height",function(e){return Math.max(0,t.y(0)-t.y(e.value))}),r.exit().remove()}this.svg.attr("width",i+e.left+e.right).attr("height",n+e.top+e.bottom),this.clip.attr("width",i).attr("height",n),this.xAxis.attr("transform","translate(0,"+n+")").call(o.svg.axis().scale(this.x).orient("bottom").ticks(this.dimensions.width/h)),this.context.attr("transform","translate("+e.left+","+e.top+")"),this.brush.x(this.x),o.selectAll(this.element.find(".x.brush").toArray()).remove(),this.brushEle=this.context.append("g").attr("class","x brush").call(this.brush).selectAll("rect").attr("height",n+7).attr("y",-6),this.brushGrip=o.select(this.element.find(".x.brush")[0]).selectAll(".resize").append("rect").attr("x",-3).attr("rx",2).attr("ry",2).attr("y",n/2-15).attr("width",6).attr("fill","lightgray").attr("height",30)},t}();e.TimeBrush=u},function(t,i){t.exports=e},function(t,e){t.exports=i},function(t,e){t.exports=n},function(t,e){t.exports=r}])});